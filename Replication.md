# Setup

**Technique**

åˆ†å±‚ç®€å•éšæœºæŠ½æ ·(Stratified Simple Random Sampling, SSRS)

**Auxiliary Variable**

é€‰æ‹©ç½®ä¿¡åº¦(Confidence)ä½œä¸ºè¾…åŠ©å˜é‡$ğœ’$

**Dataset**

MNISTæ•°æ®é›†

+ è®­ç»ƒé›†: 7,000
+ éªŒè¯é›†: 2,500
+ æ“ä½œæ•°æ®é›†: 60,500(è§„æ¨¡è¾ƒå¤§)



# Methodology

## 1. Collect Confidence

ä»MNISTä¸­åˆ†å‰²å‡ºæ“ä½œæ•°æ®é›†, ç„¶åå°†è¿™äº›æ“ä½œæ•°æ®é›†ä¸­çš„æ•°æ®ä½œä¸ºDNNçš„è¾“å…¥ä»¥è·å–æ“ä½œæ•°æ®é›†ä¸­æ‰€æœ‰æ ·æœ¬çš„ç½®ä¿¡åº¦

## 2. Apply K-Means

ä½¿ç”¨K-MeansæŒ‰ç…§ç½®ä¿¡åº¦å¯¹æ“ä½œæ•°æ®é›†è¿›è¡Œèšç±», å…¶ä¸­$k =10$

## 3. Handle Clusters

å¯¹äºå¾—åˆ°çš„åä¸ªåˆ†åŒº, å…ˆè®¡ç®—æ¯ä¸ªåˆ†åŒºçš„å¹³å‡ç½®ä¿¡åº¦$\bar{x}_p$:
$$
\bar{x}_p = \frac{1}{N_p} \sum_{i=1}^{N_p}x_i
$$
> ç„¶åé€ä¸ªè®¡ç®—æ¯ä¸ªåˆ†åŒºçš„æ ‡å‡†å·®$\sigma_p$:
> $$
> \sigma_p = \sqrt{\frac{1}{N_p - 1} \sum_{i=1}^{N_p} (x_i - \bar{x}_p)^2}
> $$


ç„¶åå½’ä¸€åŒ–è¯¥æ ‡å‡†å·®, ä½¿å¾—è¿™10ä¸ªåˆ†åŒºçš„æ ‡å‡†å·®ä¹‹å’Œä¸º1, å³($\sigma_{p_1} + \sigma_{p_2}+ ... + \sigma_{p_{10}} =1$):
$$
\text{Normalized } \sigma_p = \frac{\sigma_p}{\sum_{p=1}^{10} \sigma_p}
$$

## 4. Sampling

åˆ©ç”¨å…ˆå‰å¤„ç†åˆ†åŒºå¾—åˆ°çš„ä¿¡æ¯, è®¡ç®—æ¯ä¸ªåˆ†åŒºåº”è¯¥æŠ½å–çš„æ ·æœ¬æ•°:
$$
n_p = N \times \frac{\sigma_p \cdot N_p}{\sum_{p=1}^P (\sigma_p \cdot N_p)}
$$
ä¹‹å, æ ¹æ®æ±‚å¾—çš„æ¯ä¸ªåˆ†åŒºéœ€è¦æä¾›çš„æ ·æœ¬æ•°è¿›è¡Œæ— æ”¾å›çš„éšæœºæŠ½æ ·, ç”¨æŠ½å¾—çš„æ ·æœ¬æ„å»ºæµ‹è¯•æ•°æ®é›†$T$



## 5.Evaluate DNN

ä½¿ç”¨æŠ½æ ·å¾—åˆ°çš„æµ‹è¯•æ•°æ®é›†$T$æ¥è¯„ä¼°DNNçš„å‡†ç¡®ç‡, åŒæ—¶ç»Ÿè®¡è¢«DNNè¯¯åˆ†ç±»çš„æ ·æœ¬çš„æ•°é‡

å…ˆè®¡ç®—æ¯ä¸ªåˆ†å±‚å†…éƒ¨çš„æ¨¡å‹é”™è¯¯ç‡$\hat{\theta}_p$:
$$
\hat{\theta}_p = \frac{1}{n} \sum_{i=1}^{n} z_i
$$
ç„¶åè®¡ç®—æ¨¡å‹çš„æ•´ä½“é”™è¯¯ç‡$\hat{\theta}$:
$$
\hat{\theta} = \frac{1}{N} \sum_{p=1}^P N_p \hat{\theta}_p \quad (12)
$$
æœ€åè®¡ç®—æ¨¡å‹çš„å‡†ç¡®ç‡$Î¾$:
$$
Î¾ = 1 - Î¸
$$

## 6. Repetition

åœ¨æ¨¡å‹modelA, modelBå’ŒmodelCä¸Šåˆ†åˆ«é‡å¤ä¸Šè¿°å®éªŒæ­¥éª¤, é¢„è®¡æ¯ä¸ªæ¨¡å‹é‡å¤30æ¬¡å®éªŒ



# Result

![img.png](E:/Tools/Windows/Typora/Typora%20Image%20Cache/Replication/img.png)

